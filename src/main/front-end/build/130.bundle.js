"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[130],{71630:(e,t,a)=>{a.d(t,{k4:()=>s,CP:()=>l,AQ:()=>o,yr:()=>d,uu:()=>c});var n=a(9669),r=a.n(n),i=a(77006);const s=async e=>{const t=await(0,i.Z)();try{const a=await r()({method:"post",url:"/api/category/create",data:{name:e},headers:{Authorization:t}});if(a)return{...a}}catch(e){return{...e.response}}},l=async()=>{const e=await(0,i.Z)();try{const t=await r()({method:"get",url:"/api/category",headers:{Authorization:e}});if(t)return{...t}}catch(e){return{...e.response}}},o=async(e,t,a)=>{const n=await(0,i.Z)();try{const i=await r()({method:"get",url:`/api/category/page/${e}`,headers:{Authorization:n},params:{keyword:t,order:a}});if(i)return{...i}}catch(e){return{...e.response}}},d=async(e,t)=>{const a=await(0,i.Z)();try{const n=await r()({method:"put",url:`/api/category/update/${e}`,data:{name:t},headers:{Authorization:a}});if(n)return{...n}}catch(e){return{...e.response}}},c=async e=>{const t=await(0,i.Z)();try{const a=await r()({method:"delete",url:`/api/category/delete/${e}`,headers:{Authorization:t}});if(a)return{...a}}catch(e){return{...e.response}}}},34130:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var n=a(67294),r=a(39704),i=a(15725),s=a(6867),l=a(9573),o=a(38732),d=a(46926),c=a(97896),p=a(56011),g=a(47853),m=a(3694),h=a(54386),u=a(36272),x=a(2658),Z=a(98396),y=a(2734),j=a(79013),f=a(71630),v=a(9703),b=a(71474),M=a(42626),O=a(41687),C=a(9869),w=a(8364),P=a(24524),k=a(29263),L=a(85893);const Q=[{id:"name",label:"Name",minWidth:100,align:"left"},{id:"update",label:"Update",minWidth:100,align:"center"},{id:"del",label:"Delete",minWidth:100,align:"center"}],E=(0,P.Z)(c.Z)({maxHeight:"80vh"}),T=(0,P.Z)(x.Z)({color:"#fff",flex:"1 1 100%"}),U=(0,P.Z)(h.Z)((({theme:e})=>({background:e.palette.primary.main}))),I=()=>{const e=(0,r.I0)(),t=(0,y.Z)(),a=(0,Z.Z)(t.breakpoints.down("sm")),{simpleCUModelOpen:c,simpleUModelOpen:h,simpleDeleteModelOpen:P}=(0,r.v9)((e=>e.modelReducer)),[I,D]=(0,n.useState)({id:0,categories:[],category:"",msg:""}),[S,z]=(0,n.useState)(0),[W,A]=(0,n.useState)(0),[R,_]=(0,n.useState)(0),[F,N]=(0,n.useState)(""),[$,H]=(0,n.useState)("desc"),[Y,q]=(0,n.useState)(!1),[B,G]=(0,n.useState)({startIndex:0,endIndex:9}),J=()=>{e((0,M.M)({simpleCUModelOpen:!0}))};return(0,n.useEffect)((()=>{(async()=>{e((0,j.QP)({simpleLoading:!0}));const t=await(0,f.AQ)(S,F,$);200==t.status?(D({...I,categories:t.data.categories}),A(t.data.numberOfElements),_(t.data.totalElements),e((0,j.QP)({simpleLoading:!1}))):400==t.status&&(D({...I,msg:t.data.message}),e((0,j.QP)({simpleLoading:!1})))})()}),[S,F]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(i.ZP,{sx:{position:"fixed",minHeight:"93vh",[t.breakpoints.down("md")]:{alignItems:"flex-start"}},container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:[I.categories.length>0&&(0,L.jsxs)(i.ZP,{item:!0,xs:12,sm:12,md:8,lg:8,style:{width:a?"100%":"auto"},children:[(0,L.jsxs)(U,{variant:"dense",children:[(0,L.jsx)(T,{variant:"h6",id:"tableTitle",component:"div",children:"Categories"}),(0,L.jsx)(u.Z,{title:"Filter list",children:(0,L.jsx)(s.Z,{"aria-label":"filter list",onClick:J,children:(0,L.jsx)(O.Z,{sx:{color:"#fff"}})})})]}),(0,L.jsx)(E,{children:(0,L.jsxs)(l.Z,{sx:{[t.breakpoints.down("sm")]:{width:"100%"},backgroundColor:t.palette.background.paper},stickyHeader:!0,"aria-label":"sticky table",children:[(0,L.jsx)(p.Z,{children:(0,L.jsx)(m.Z,{children:Q.map((e=>(0,L.jsx)(d.Z,{align:e.align,children:e.label},e.id)))})}),(0,L.jsx)(o.Z,{children:null!=I.categories&&I.categories.map(((t,a)=>(0,L.jsxs)(m.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,L.jsx)(d.Z,{align:"left",children:(0,L.jsx)(x.Z,{color:"secondary",children:t.name})}),(0,L.jsx)(d.Z,{align:"center",children:(0,L.jsx)(s.Z,{color:"warning",onClick:()=>{return a=t.id,n=t.name,D({...I,id:a,category:n}),void e((0,M.M)({simpleUModelOpen:!0}));var a,n},children:(0,L.jsx)(C.Z,{})})}),(0,L.jsx)(d.Z,{align:"center",children:(0,L.jsx)(s.Z,{color:"error",onClick:()=>{return a=t.id,n=t.name,D({...I,id:a,category:n}),void e((0,M.Q)({simpleDeleteModelOpen:!0}));var a,n},children:(0,L.jsx)(w.Z,{})})})]},a)))})]})}),(0,L.jsx)(g.Z,{rowsPerPageOptions:[],component:"div",count:R,rowsPerPage:10,page:S,onPageChange:(e,t)=>{G({...B,startIndex:10*(t-1),endIndex:10*t-1}),z(t)}})]}),I.categories.length<=0&&(0,L.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",direction:"row",justifyContent:"center",sx:{[t.breakpoints.down("md")]:{marginTop:"40vh"}},children:[(0,L.jsx)(i.ZP,{item:!0,xs:12,sm:12,children:(0,L.jsx)(x.Z,{style:{opacity:.1,textAlign:"center"},variant:"h3",children:I.msg})}),(0,L.jsx)(i.ZP,{item:!0,children:(0,L.jsx)(s.Z,{"aria-label":"Create category",onClick:J,children:(0,L.jsx)(O.Z,{fontSize:"large"})})})]})]}),c&&(0,L.jsx)(b.Z,{op:"Create",title:"Create a category",textFieldLabel:"Category name",handleOnOperation:async t=>{e((0,j.QP)({simpleLoading:!0}));const a=await(0,f.k4)(t);200==a.status?(e((0,j.c0)({open:!0,varient:"filled",msgType:"success",msgText:a.data.message,anchorOrigin:{vertical:"top",horizontal:"center"}})),D({...I,categories:[...I.categories,a.data.category]}),e((0,M.M)({simpleCUModelOpen:!1,err:!1,errMsg:{}})),e((0,j.QP)({simpleLoading:!1}))):400==a.status&&(e((0,M.M)({err:!0,errMsg:{...a.data}})),e((0,j.QP)({simpleLoading:!1})))}}),h&&(0,L.jsx)(b.Z,{op:"Update",title:`Edit "${I.category}"`,textFieldLabel:"Category name",handleOnOperation:async t=>{e((0,j.QP)({simpleLoading:!0}));const a=await(0,f.yr)(I.id,t);200==a.status?(e((0,j.c0)({open:!0,varient:"filled",msgType:"success",msgText:a.data.message,anchorOrigin:{vertical:"top",horizontal:"center"}})),I.categories.map((e=>{e.id==I.id&&(e.name=t)})),e((0,M.M)({simpleUModelOpen:!1,err:!1,errMsg:{}})),e((0,j.QP)({simpleLoading:!1}))):400==a.status&&(e((0,M.M)({err:!0,errMsg:{...a.data}})),e((0,j.QP)({simpleLoading:!1})))}}),P&&(0,L.jsx)(v.Z,{title:I.category,handleOnDelete:async()=>{e((0,j.QP)({simpleLoading:!0}));const t=await(0,f.uu)(I.id);if(200==t.status){e((0,j.c0)({open:!0,varient:"filled",msgType:"success",msgText:t.data.message,anchorOrigin:{vertical:"top",horizontal:"center"}}));let a=I.categories.filter((e=>e.id!=I.id));a.length<=0?D({...I,msg:"No category found",categories:[]}):D({...I,categories:a}),e((0,M.Q)({simpleDeleteModelOpen:!1,err:!1,errMsg:{}})),e((0,j.QP)({simpleLoading:!1}))}else 400==t.status&&(e((0,j.c0)({open:!0,varient:"filled",msgType:"warning",msgText:t.data.message,anchorOrigin:{vertical:"bottom",horizontal:"center"}})),e((0,M.Q)({simpleDeleteModelOpen:!1})),e((0,j.QP)({simpleLoading:!1})))}}),(0,L.jsx)(k.Z,{title:"Manage Categories"})]})}},29263:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(67294),r=a(39704),i=a(85893);const s=e=>{const t=(0,r.I0)(),a=t=>{let a="blog"==t.split("/")[1]?"/blog":t;return document.title=e.title+" | Full Stack App",a};return(0,n.useEffect)((()=>{var e;t((e={currentRoute:a(window.location.pathname)},{type:"CURRENT_ROUTE",payload:{...e}}))}),[]),(0,i.jsx)(i.Fragment,{})}},9703:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(24524),r=a(72642),i=a(59062),s=a(3838),l=a(88979),o=a(37645),d=a(2658),c=a(39704),p=a(42626),g=a(85893);const m=(0,n.Z)(i.Z)({float:"right"}),h=e=>{const t=(0,c.I0)(),{simpleDeleteModelOpen:a}=(0,c.v9)((e=>({...e.modelReducer}))),{simpleLoading:n}=(0,c.v9)((e=>({...e.notificationReducer}))),{title:i,handleOnDelete:h}=e;return(0,g.jsxs)(s.Z,{open:a,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm",children:[(0,g.jsxs)(o.Z,{children:[n&&(0,g.jsx)(m,{color:"secondary",size:24,color:"secondary"}),(0,g.jsxs)(d.Z,{variant:"subtitle1",children:['Delete "',i,'" ?']})]}),(0,g.jsxs)(l.Z,{style:{justifyContent:"center"},children:[(0,g.jsx)(r.Z,{variant:"contained",color:"error",onClick:()=>{h()},fullWidth:!0,children:"Yes"}),(0,g.jsx)(r.Z,{variant:"contained",color:"primary",onClick:()=>{t((0,p.Q)({simpleDeleteModelOpen:!1,err:!1,errMsg:""}))},fullWidth:!0,children:"No"})]})]})}},71474:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(72642),r=a(59062),i=a(3838),s=a(88979),l=a(77750),o=a(37645),d=a(6867),c=a(33856),p=a(2658),g=a(2734),m=a(67294),h=a(39704),u=a(42626),x=a(44510),Z=a(24524),y=a(85893);const j=(0,Z.Z)(r.Z)({position:"absolute",top:"50%",left:"auto",marginTop:-10,marginLeft:-100}),f=e=>{const t=(0,g.Z)(),a=(0,h.I0)(),{simpleCUModelOpen:r,simpleUModelOpen:Z,err:f,errMsg:v}=(0,h.v9)((e=>({...e.modelReducer}))),{simpleLoading:b}=(0,h.v9)((e=>({...e.notificationReducer}))),{op:M,title:O,textFieldLabel:C,handleOnOperation:w}=e,[P,k]=(0,m.useState)({name:""});return(0,y.jsxs)(i.Z,{open:r||Z,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm",children:[(0,y.jsxs)(o.Z,{children:[(0,y.jsx)(p.Z,{variant:"body1",children:O}),(0,y.jsx)(d.Z,{sx:{position:"absolute",right:t.spacing(1),top:t.spacing(1)},"aria-label":"close",onClick:()=>{a((0,u.M)({simpleCUModelOpen:!1,simpleUModelOpen:!1,err:!1,errMsg:""}))},children:(0,y.jsx)(x.Z,{color:"error"})})]}),(0,y.jsx)(l.Z,{children:(0,y.jsx)(c.Z,{color:"secondary",error:f,autoFocus:!0,margin:"dense",id:"name",label:C,type:"text",fullWidth:!0,variant:"outlined",onChange:e=>{k({...P,name:e.target.value})},helperText:v.name})}),(0,y.jsx)(s.Z,{style:{justifyContent:"center"},children:(0,y.jsxs)(n.Z,{variant:"contained",onClick:()=>{w(P.name)},fullWidth:!0,children:[M,b&&(0,y.jsx)(j,{size:18,style:{color:"#fff"}})]})})]})}},42626:(e,t,a)=>{a.d(t,{M:()=>n,Q:()=>r});const n=e=>({type:"OPEN_SIMPLE_CU_MODEL",payload:{...e}}),r=e=>({type:"OPEN_SIMPLE_DELETE_MODEL",payload:{...e}})}}]);